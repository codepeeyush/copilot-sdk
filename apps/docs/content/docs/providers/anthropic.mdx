---
title: Anthropic
description: Use Claude 3.5 Sonnet, Claude 3 Opus, and more
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Tab, Tabs } from 'fumadocs-ui/components/tabs';

<ProviderHeader
  provider="anthropic"
  name="Anthropic"
  description="Claude 3.5 Sonnet, Claude 3 Opus"
/>

Claude models from Anthropic. Known for safety, long context, and excellent reasoning.

---

## Setup

### 1. Install Packages

```bash
npm install @yourgpt/copilot-sdk @yourgpt/llm-sdk @anthropic-ai/sdk
```

### 2. Get API Key

Get your API key from [console.anthropic.com](https://console.anthropic.com/)

### 3. Add Environment Variable

```bash title=".env.local"
ANTHROPIC_API_KEY=sk-ant-...
```

### 4. Usage

```ts
import { generateText } from '@yourgpt/llm-sdk';
import { anthropic } from '@yourgpt/llm-sdk/anthropic';

const result = await generateText({
  model: anthropic('claude-3-5-sonnet-20241022'),
  prompt: 'Explain the theory of relativity.',
});

console.log(result.text);
```

### 5. Streaming (API Route)

```ts title="app/api/chat/route.ts"
import { streamText } from '@yourgpt/llm-sdk';
import { anthropic } from '@yourgpt/llm-sdk/anthropic';

export async function POST(req: Request) {
  const { messages } = await req.json();

  const result = await streamText({
    model: anthropic('claude-3-5-sonnet-20241022'),
    system: 'You are a helpful assistant.',
    messages,
  });

  return result.toTextStreamResponse();
}
```

---

## Available Models

```ts
// Claude 3.5 (Latest)
anthropic('claude-3-5-sonnet-20241022')  // Best balance of speed & quality
anthropic('claude-3-5-haiku-20241022')   // Fast and affordable

// Claude 3
anthropic('claude-3-opus-20240229')      // Most capable
anthropic('claude-3-sonnet-20240229')    // Balanced
anthropic('claude-3-haiku-20240307')     // Fastest
```

---

## Configuration Options

```ts
import { anthropic } from '@yourgpt/llm-sdk/anthropic';

// Custom API key
const model = anthropic('claude-3-5-sonnet-20241022', {
  apiKey: 'sk-ant-custom-key',
});

// With generation options
const result = await generateText({
  model: anthropic('claude-3-5-sonnet-20241022'),
  prompt: 'Hello',
  temperature: 0.7,        // 0-1
  maxTokens: 4096,         // Max response length
});
```

---

## Tool Calling

Claude has robust tool support:

```ts
import { generateText, tool } from '@yourgpt/llm-sdk';
import { anthropic } from '@yourgpt/llm-sdk/anthropic';
import { z } from 'zod';

const result = await generateText({
  model: anthropic('claude-3-5-sonnet-20241022'),
  prompt: 'Analyze this document for key insights',
  tools: {
    analyzeDocument: tool({
      description: 'Analyze a document',
      parameters: z.object({
        documentId: z.string(),
        analysisType: z.enum(['summary', 'sentiment', 'entities']),
      }),
      execute: async ({ documentId, analysisType }) => {
        return await analyzeDocument(documentId, analysisType);
      },
    }),
  },
  maxSteps: 5,
});
```

---

## Long Context

Claude excels at long documents (200K context):

```ts
const result = await generateText({
  model: anthropic('claude-3-5-sonnet-20241022'),
  system: `You are a support agent. Here is our full documentation:

  ${fullDocumentation}  // Can be 100K+ tokens

  Answer questions based on this documentation.`,
  prompt: userQuestion,
});
```

---

## Vision (Image Input)

Claude models support image analysis:

```ts
const result = await generateText({
  model: anthropic('claude-3-5-sonnet-20241022'),
  messages: [
    {
      role: 'user',
      content: [
        { type: 'text', text: 'Analyze this screenshot' },
        { type: 'image', image: base64ImageData },
      ],
    },
  ],
});
```

---

## With Copilot UI

Use with the Copilot React components:

```tsx title="app/providers.tsx"
'use client';

import { CopilotProvider } from '@yourgpt/copilot-sdk/react';

export function Providers({ children }: { children: React.ReactNode }) {
  return (
    <CopilotProvider runtimeUrl="/api/chat">
      {children}
    </CopilotProvider>
  );
}
```

---

## Pricing

| Model | Input | Output |
|-------|-------|--------|
| claude-3-5-sonnet | $3/1M tokens | $15/1M tokens |
| claude-3-opus | $15/1M tokens | $75/1M tokens |
| claude-3-5-haiku | $0.80/1M tokens | $4/1M tokens |

*Check [Anthropic pricing](https://anthropic.com/pricing) for current rates.*

---

## Next Steps

- [Google](/docs/providers/google) - Try Gemini models
- [generateText()](/docs/llm-sdk/generate-text) - Full API reference
- [tool()](/docs/llm-sdk/tools) - Define tools with Zod
