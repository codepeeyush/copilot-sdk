---
title: Components
description: React components and providers
---

Provider and context components for React.

---

## CopilotProvider

Root provider that enables AI chat functionality.

```tsx
import { CopilotProvider } from '@yourgpt/copilot-sdk/react';

function App() {
  return (
    <CopilotProvider
      runtimeUrl="/api/chat"
      systemPrompt="You are a helpful assistant."
      threadId="user-123-thread"
      initialMessages={[]}
      onMessagesChange={(messages) => console.log(messages)}
      debug={false}
    >
      {children}
    </CopilotProvider>
  );
}
```

### Props

| Prop | Type | Required | Description |
|------|------|----------|-------------|
| `runtimeUrl` | `string` | Yes | Your API endpoint URL |
| `systemPrompt` | `string` | No | Override the system prompt |
| `threadId` | `string` | No | Conversation/thread ID |
| `initialMessages` | `UIMessage[]` | No | Pre-populate messages |
| `onMessagesChange` | `(messages: UIMessage[]) => void` | No | Callback on message changes |
| `debug` | `boolean` | No | Enable debug logging |

---

## Usage Patterns

### Basic Setup

```tsx
<CopilotProvider runtimeUrl="/api/chat">
  <CopilotChat />
</CopilotProvider>
```

### With Tools

```tsx
<CopilotProvider runtimeUrl="/api/chat">
  <MyTools />
  <CopilotChat />
</CopilotProvider>

function MyTools() {
  useTools({ ... });
  return null;
}
```

### With Context

```tsx
<CopilotProvider runtimeUrl="/api/chat">
  <MyContext />
  <CopilotChat />
</CopilotProvider>

function MyContext() {
  useAIContext({ key: 'app-state', data: state });
  return null;
}
```

### Multiple Threads

```tsx
function ChatApp() {
  const [threadId, setThreadId] = useState('thread-1');

  return (
    <CopilotProvider
      key={threadId}  // Remount on thread change
      runtimeUrl="/api/chat"
      threadId={threadId}
    >
      <ThreadSwitcher onSelect={setThreadId} />
      <CopilotChat />
    </CopilotProvider>
  );
}
```

### Persistence

```tsx
<CopilotProvider
  runtimeUrl="/api/chat"
  threadId="user-123"
  onMessagesChange={(messages) => {
    localStorage.setItem('chat-history', JSON.stringify(messages));
  }}
  initialMessages={JSON.parse(localStorage.getItem('chat-history') || '[]')}
>
  <CopilotChat />
</CopilotProvider>
```
